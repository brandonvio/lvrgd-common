---
description: Execute tasks from a tasks.md file using the constitution-task-executor agent with real-time status updates
argument-hint: "path/to/tasks-file.md"
---

Execute tasks from a tasks.md file using the constitution-task-executor agent. This command enforces all seven constitutional principles during execution and provides real-time task status updates after EACH individual task completion.

## Usage

```bash
/execute-tasks path/to/tasks-file.md
```

## Examples

```bash
# Execute tasks for feature implementation
/execute-tasks spec/feature-tasks.md

# Execute tasks for parallel pipeline
/execute-tasks spec/parallel-pipeline-tasks.md

# Execute tasks for model configuration
/execute-tasks spec/model-by-task-tasks.md
```

## Workflow

This command works seamlessly with `/generate-tasks`:

```bash
# Step 1: Generate tasks from specification
/generate-tasks spec/model-by-task.md

# Step 2: Review generated tasks
# (Review spec/model-by-task-tasks.md)

# Step 3: Execute tasks with constitutional compliance
/execute-tasks spec/model-by-task-tasks.md
```

## Execution Steps

### 1. Validation Phase

**Check File Path:**
- If no path provided via $1:
  - Display usage message:
    ```
    Error: Tasks file path required.

    Usage: /execute-tasks path/to/tasks-file.md

    Examples:
      /execute-tasks spec/model-by-task-tasks.md
      /execute-tasks spec/feature-implementation-tasks.md
    ```
  - Exit immediately

**Validate File Exists:**
- Check if file at $1 exists
- If file not found:
  - Display error: "Error: Tasks file not found: $1"
  - Display: "Please verify the file path and try again."
  - Exit immediately

**Validate File Naming Convention:**
- File MUST end with `-tasks.md`
- Extract filename from path for validation
- If file doesn't match pattern:
  - Display error message:
    ```
    Error: File must end with '-tasks.md'

    Provided: {filename}

    This command only executes tasks files generated by the constitution-task-generator.
    Valid examples:
      - spec/model-by-task-tasks.md ✓
      - spec/parallel-pipeline-tasks.md ✓
      - spec/implementation.md ✗ (missing '-tasks.md' suffix)
    ```
  - Exit immediately

### 2. Agent Invocation Phase

Once ALL validations pass, invoke the **constitution-task-executor** agent with the following prompt:

```
Execute ALL tasks from the file: $1

## Your Objectives

**PRIMARY MANDATE: Execute ALL tasks from start to finish WITHOUT stopping for user confirmation. Work autonomously through the entire task list.**

1. **Read Constitution and Tasks File:**
   - First, read @.claude/constitution.md
   - Load tasks from $1
   - Locate the Quick Task Checklist at the top
   - Understand all tasks to be executed

2. **Execute ALL Tasks Sequentially (NO STOPPING):**
   - Start with Task 1 from Quick Task Checklist
   - Implement task following constitutional principles
   - Check off task: - [x] 1. Task description
   - IMMEDIATELY move to Task 2 (NO CONFIRMATION)
   - Implement Task 2 following constitutional principles
   - Check off Task 2: - [x] 2. Task description
   - Continue through ALL tasks until complete
   - **DO NOT stop between tasks**
   - **DO NOT ask for user confirmation**
   - **WORK AUTONOMOUSLY**

3. **Constitutional Compliance (All Seven Principles):**
   Apply these principles to EVERY implementation decision:
   - **I. Radical Simplicity** - Choose simplest approach always
   - **II. Fail Fast** - No defensive programming, let it fail
   - **III. Type Safety** - Type hints on all functions
   - **IV. Structured Data** - Pydantic/dataclass, never dicts
   - **V. Unit Testing** - Comprehensive test coverage with appropriate mocking
   - **VI. Dependency Injection** - Constructor injection pattern
   - **VII. SOLID Principles** - All five SOLID principles maintained

4. **Autonomous Decision Making:**
   - Make implementation decisions based on constitutional principles
   - Choose Pydantic vs dataclass (Pydantic when validation needed)
   - Design function signatures (always with type hints)
   - Organize code structure (follow existing patterns)
   - If task unclear, use best judgment and keep moving
   - If constitutional conflict, apply principles to resolve and continue
   - **KEEP MOVING FORWARD**

5. **Real-Time Checkbox Updates:**
   - Update checkbox in Quick Task Checklist IMMEDIATELY after each task
   - Simple format: - [x] N. Task description
   - Never batch updates
   - Keep it simple

6. **Quality Standards:**
   - Type hints on all functions
   - Dependency injection for all services
   - Pydantic/dataclass for structured data
   - Moto mocking in tests
   - SOLID principles maintained
   - Code kept simple (Principle I)

## Final Report

After completing ALL tasks, provide brief summary:
1. Total tasks completed
2. Constitutional compliance confirmed (all 7 principles)
3. Key files created/modified
4. Brief implementation notes

## Critical Requirements for Executor Agent

**AUTONOMOUS EXECUTION:** You MUST execute ALL tasks from start to finish WITHOUT stopping for user confirmation.

**REAL-TIME CHECKBOX UPDATES:** Update the checkbox for each task IMMEDIATELY after completion.

**NO STOPPING:** Do NOT ask "Should I continue?" Do NOT wait for confirmation between tasks. Just keep implementing.

Pattern:
- Implement Task 1 → Check off: [x] 1. Task
- IMMEDIATELY Implement Task 2 → Check off: [x] 2. Task
- IMMEDIATELY Implement Task 3 → Check off: [x] 3. Task
- Continue until ALL tasks complete

**CONSTITUTIONAL COMPLIANCE:** Apply all seven principles to every implementation decision.
```

### 3. Success Reporting Phase

After agent completes execution, display:

```
✓ Task execution completed!

Summary:
- Tasks file: $1
- Review updated tasks file for completion status
- Check agent report for quality assessment

Next Steps:
- Review tasks.md file for any remaining pending tasks
- Address any constitutional concerns flagged by agent
- Run full test suite to verify implementation quality
```

## Constitutional Principles Enforced

This command ensures the agent follows all seven principles:

1. **Radical Simplicity** - Simplest solution that works
2. **Fail Fast** - No defensive fallbacks
3. **Type Safety** - Comprehensive type hints
4. **Structured Data** - Pydantic/dataclass models
5. **Unit Testing** - Comprehensive test coverage with mocking
6. **Dependency Injection** - Constructor injection
7. **SOLID Principles** - All five principles

## Agent Details

**Agent:** constitution-task-executor

**Capabilities:**
- Reads and parses tasks.md files
- Executes tasks one at a time
- Updates task status in real-time (after EACH task)
- Enforces constitutional compliance
- Provides detailed progress reporting
- Flags quality concerns immediately

**Task Status Updates:**
- `pending` → Task not yet started
- `in_progress` → Task currently being worked on
- `completed` → Task finished and verified

## Error Scenarios

**Missing File Path:**
User will see usage instructions with examples.

**File Not Found:**
User will see error message with provided path and verification prompt.

**Invalid File Naming:**
User will see error explaining `-tasks.md` requirement with examples.

**Task Execution Failures:**
Agent will keep task status as `in_progress` and create blocker task if needed.

## Integration

Works with:
- `/generate-tasks` - Generate tasks from spec files
- `constitution-task-generator` agent - Creates tasks files
- `constitution-task-executor` agent - Executes with real-time updates

## Notes

- Always use absolute paths internally for file operations
- Validate ALL requirements before invoking agent
- Agent updates tasks.md incrementally (never batches updates)
- Constitutional compliance is non-negotiable
- Quality over speed - tasks must be done correctly
